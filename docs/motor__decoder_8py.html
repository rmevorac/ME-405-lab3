<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lab #3: src/motor_decoder.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Lab #3<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Lab #3: On Schedule</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('motor__decoder_8py.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">motor_decoder.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file processes the data from an encoder for readability and motor control.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a63f93c67b2005a196716bd3fabff129b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motor__decoder_8py.html#a63f93c67b2005a196716bd3fabff129b">motor_decoder.get_params</a> ()</td></tr>
<tr class="memdesc:a63f93c67b2005a196716bd3fabff129b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user to enter KP and setpoint values.  <br /></td></tr>
<tr class="separator:a63f93c67b2005a196716bd3fabff129b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab0b6fa2756b1c4122db373d596bf3372"><td class="memItemLeft" align="right" valign="top"><a id="ab0b6fa2756b1c4122db373d596bf3372" name="ab0b6fa2756b1c4122db373d596bf3372"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.databx1</b> = []</td></tr>
<tr class="memdesc:ab0b6fa2756b1c4122db373d596bf3372"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list to store the x-axis time data from controller1. <br /></td></tr>
<tr class="separator:ab0b6fa2756b1c4122db373d596bf3372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2afcb8c48219104943fe7451ef8b0b"><td class="memItemLeft" align="right" valign="top"><a id="a2d2afcb8c48219104943fe7451ef8b0b" name="a2d2afcb8c48219104943fe7451ef8b0b"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.databy1</b> = []</td></tr>
<tr class="memdesc:a2d2afcb8c48219104943fe7451ef8b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list to store the y-axis position data from controller1. <br /></td></tr>
<tr class="separator:a2d2afcb8c48219104943fe7451ef8b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45bcec23f2c7eae72a4218489b515cfa"><td class="memItemLeft" align="right" valign="top"><a id="a45bcec23f2c7eae72a4218489b515cfa" name="a45bcec23f2c7eae72a4218489b515cfa"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.databx2</b> = []</td></tr>
<tr class="memdesc:a45bcec23f2c7eae72a4218489b515cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list to store the x-axis time data from controller2. <br /></td></tr>
<tr class="separator:a45bcec23f2c7eae72a4218489b515cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf28cb46b23fd15e435e276d71f910b"><td class="memItemLeft" align="right" valign="top"><a id="a8bf28cb46b23fd15e435e276d71f910b" name="a8bf28cb46b23fd15e435e276d71f910b"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.databy2</b> = []</td></tr>
<tr class="memdesc:a8bf28cb46b23fd15e435e276d71f910b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list to store the y-axis position data from controller2. <br /></td></tr>
<tr class="separator:a8bf28cb46b23fd15e435e276d71f910b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111c41b9f855ffbadc49cab94d367ecb"><td class="memItemLeft" align="right" valign="top"><a id="a111c41b9f855ffbadc49cab94d367ecb" name="a111c41b9f855ffbadc49cab94d367ecb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.params1</b> = get_params()</td></tr>
<tr class="memdesc:a111c41b9f855ffbadc49cab94d367ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompting user for KP and setpoint for controller1. <br /></td></tr>
<tr class="separator:a111c41b9f855ffbadc49cab94d367ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54dc8e058faed4eb3c05683bf57cbf0"><td class="memItemLeft" align="right" valign="top"><a id="ad54dc8e058faed4eb3c05683bf57cbf0" name="ad54dc8e058faed4eb3c05683bf57cbf0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.params2</b> = get_params()</td></tr>
<tr class="memdesc:ad54dc8e058faed4eb3c05683bf57cbf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompting user for KP and setpoint for controller2. <br /></td></tr>
<tr class="separator:ad54dc8e058faed4eb3c05683bf57cbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98187aa76cd77811e087bf1de6ca4893"><td class="memItemLeft" align="right" valign="top"><a id="a98187aa76cd77811e087bf1de6ca4893" name="a98187aa76cd77811e087bf1de6ca4893"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.timeout</b></td></tr>
<tr class="memdesc:a98187aa76cd77811e087bf1de6ca4893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opening the serial port 'COM4' with a baud rate of 115200 and a timeout of 7 seconds. <br /></td></tr>
<tr class="separator:a98187aa76cd77811e087bf1de6ca4893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2515de620c7143128d6ca731b1d71f0b"><td class="memItemLeft" align="right" valign="top"><a id="a2515de620c7143128d6ca731b1d71f0b" name="a2515de620c7143128d6ca731b1d71f0b"></a>
ser&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.line</b> = ser.readline()</td></tr>
<tr class="memdesc:a2515de620c7143128d6ca731b1d71f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reading a line of data from the serial port. <br /></td></tr>
<tr class="separator:a2515de620c7143128d6ca731b1d71f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87600d952ece4682d2a6f134945bbd1"><td class="memItemLeft" align="right" valign="top"><a id="ad87600d952ece4682d2a6f134945bbd1" name="ad87600d952ece4682d2a6f134945bbd1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.try</b> :</td></tr>
<tr class="separator:ad87600d952ece4682d2a6f134945bbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132efbe02efef7bad95cc92569954df4"><td class="memItemLeft" align="right" valign="top"><a id="a132efbe02efef7bad95cc92569954df4" name="a132efbe02efef7bad95cc92569954df4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.controller_label</b></td></tr>
<tr class="memdesc:a132efbe02efef7bad95cc92569954df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splitting the received line on ' ' to get the controller number, x (time), and y (position) data. <br /></td></tr>
<tr class="separator:a132efbe02efef7bad95cc92569954df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4331954924276975c5d821f8cc201f3"><td class="memItemLeft" align="right" valign="top"><a id="af4331954924276975c5d821f8cc201f3" name="af4331954924276975c5d821f8cc201f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.tempx</b></td></tr>
<tr class="separator:af4331954924276975c5d821f8cc201f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867aa0caf70bafc0e61f79ad4da4e635"><td class="memItemLeft" align="right" valign="top"><a id="a867aa0caf70bafc0e61f79ad4da4e635" name="a867aa0caf70bafc0e61f79ad4da4e635"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.tempy</b></td></tr>
<tr class="separator:a867aa0caf70bafc0e61f79ad4da4e635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9efda7dec2dc44b6cc2d722513838b"><td class="memItemLeft" align="right" valign="top"><a id="a4e9efda7dec2dc44b6cc2d722513838b" name="a4e9efda7dec2dc44b6cc2d722513838b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.else</b> :</td></tr>
<tr class="separator:a4e9efda7dec2dc44b6cc2d722513838b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a33442ad5561c10d5b284cc2828ffa"><td class="memItemLeft" align="right" valign="top"><a id="a78a33442ad5561c10d5b284cc2828ffa" name="a78a33442ad5561c10d5b284cc2828ffa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.except</b> :</td></tr>
<tr class="separator:a78a33442ad5561c10d5b284cc2828ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e23bb03a089a25ea9310bc725a65c0c"><td class="memItemLeft" align="right" valign="top"><a id="a7e23bb03a089a25ea9310bc725a65c0c" name="a7e23bb03a089a25ea9310bc725a65c0c"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.datax1</b> = array.array('f', [0] * len(databx1))</td></tr>
<tr class="memdesc:a7e23bb03a089a25ea9310bc725a65c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converting the list of X bytes to arrays of float type for controller1. <br /></td></tr>
<tr class="separator:a7e23bb03a089a25ea9310bc725a65c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08798895f136c712e8f69851e100454"><td class="memItemLeft" align="right" valign="top"><a id="af08798895f136c712e8f69851e100454" name="af08798895f136c712e8f69851e100454"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.datay1</b> = array.array('f', [0] * len(databy1))</td></tr>
<tr class="memdesc:af08798895f136c712e8f69851e100454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converting the list of Y bytes to arrays of float type for controller1. <br /></td></tr>
<tr class="separator:af08798895f136c712e8f69851e100454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5716e6d1916e88f67c8d6bfae02f4c"><td class="memItemLeft" align="right" valign="top"><a id="a9b5716e6d1916e88f67c8d6bfae02f4c" name="a9b5716e6d1916e88f67c8d6bfae02f4c"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.datax2</b> = array.array('f', [0] * len(databx2))</td></tr>
<tr class="memdesc:a9b5716e6d1916e88f67c8d6bfae02f4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converting the list of X bytes to arrays of float type for controller2. <br /></td></tr>
<tr class="separator:a9b5716e6d1916e88f67c8d6bfae02f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fc8d17260ccba3d1ff20a790f5d17b"><td class="memItemLeft" align="right" valign="top"><a id="a01fc8d17260ccba3d1ff20a790f5d17b" name="a01fc8d17260ccba3d1ff20a790f5d17b"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>motor_decoder.datay2</b> = array.array('f', [0] * len(databy2))</td></tr>
<tr class="memdesc:a01fc8d17260ccba3d1ff20a790f5d17b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converting the list of Y bytes to arrays of float type for controller2. <br /></td></tr>
<tr class="separator:a01fc8d17260ccba3d1ff20a790f5d17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file processes the data from an encoder for readability and motor control. </p>
<p>It collects the position data in real-time from the serial port and plots the data using the matplotlib library. The main function of the script initializes the serial port and then prompts the user for KP and setpoint values. These values are then sent to microcontroller and the controller is run with those input values. Position and time values are then received in real time from the microcontroller. The received data is processed and then plotted, with time on the x-axis and position on the y-axis. The final plot is displayed to the user.</p>
<dl class="section author"><dt>Author</dt><dd>Ben Elkayam </dd>
<dd>
Roey Mevorach </dd>
<dd>
Ermias Yemane</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-Feb-13 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a63f93c67b2005a196716bd3fabff129b" name="a63f93c67b2005a196716bd3fabff129b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f93c67b2005a196716bd3fabff129b">&#9670;&#160;</a></span>get_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def motor_decoder.get_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user to enter KP and setpoint values. </p>
<p>This function prompts the user for two values, the KP and setpoint, which are used to control the motor. It repeatedly prompts the user until valid input is entered. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tuple of strings, containing the KP and setpoint values. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="motor__decoder_8py.html">motor_decoder.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
